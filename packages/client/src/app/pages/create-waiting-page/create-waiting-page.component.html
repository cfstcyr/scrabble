<div class="container">
    <mat-card class="top-box">
        <div class="center">
            <p>{{ waitingRoomMessage }}</p>
            <ng-container *ngIf="!isOpponentFound">
                <mat-progress-bar class="progress" mode="indeterminate"></mat-progress-bar>
            </ng-container>
            <ng-container *ngIf="isOpponentFound">
                <mat-progress-bar class="progress" mode="determinate" value="100"></mat-progress-bar>
            </ng-container>
        </div>

        <div class="players">
            <span class="name"
                ><b>{{ currentGroup.hostName }}</b></span
            ><span id="vs"> vs </span><span class="name">{{ opponentName ?? '...' }}</span>
        </div>

        <div class="chip-list">
            <div class="chip"><app-icon icon="hourglass-half" size="sm"></app-icon> {{ roundTime }}</div>
        </div>

        <div class="button-box">
            <button
                id="start-game-button"
                class="button"
                mat-flat-button
                color="primary"
                [disabled]="!isOpponentFound"
                (click)="startGame()"
            >
                DÃ©marrer la partie
            </button>

            <button
                id="reject-button"
                class="button"
                mat-flat-button
                color="primary"
                [disabled]="!isOpponentFound"
                (click)="confirmRejectionToServer()"
            >
                Rejeter cet adversaire
            </button>
            <button id="cancel-button" mat-flat-button class="button" color="primary" routerLink="/game-creation">Annuler la partie</button>
        </div>
    </mat-card>

    <mat-card class="fun-fact-box">
        <p id="intro">Le saviez-vous ?</p>
        <p id="fact">{{ funFact }}</p>
    </mat-card>

    <div class="grid">
        ACCEPTED PLAYERS
        <p id="fact">{{ opponentName1 }}</p>
        <p id="fact">{{ opponentName2 }}</p>
        <p id="fact">{{ opponentName3 }}</p>
    </div>


    <div class="grid">
        REQUESTING PLAYERS
        <ng-container *ngFor="let requestingPlayer of requestingPlayers">
            <app-joiner-list-container [playerName]="requestingPlayer" (acceptPlayerId)="confirmOpponentToServer2($event)" (refusePlayerId)="confirmRejectionToServer2($event)"></app-joiner-list-container>
        </ng-container>
    </div>

</div>
